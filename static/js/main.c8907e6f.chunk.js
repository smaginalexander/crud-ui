(this["webpackJsonpcrud-ui"]=this["webpackJsonpcrud-ui"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(3),o=n.n(r),u=n(1);n(11),n(12),n(13);var l=function(e){var t=e.item,n=e.deleteData,a=e.updateData,r=c.a.useState(!1),o=Object(u.a)(r,2),l=o[0],i=o[1],s=c.a.useState(t.data.name),d=Object(u.a)(s,2),m=d[0],h=d[1],f=c.a.useState(t.data.age),p=Object(u.a)(f,2),_=p[0],b=p[1];function v(e){h(e.target.value)}function E(e){b(e.target.value)}return c.a.createElement("tr",null,l?c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,c.a.createElement("input",{className:"table__input table__input_active",value:m,onChange:v})),c.a.createElement("td",null,c.a.createElement("input",{className:"table__input table__input_active",value:_,onChange:E}))):c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,c.a.createElement("input",{className:"table__input",value:m,onChange:v,readOnly:!0})),c.a.createElement("td",null,c.a.createElement("input",{className:"table__input",value:_,onChange:E,readOnly:!0}))),c.a.createElement("td",null,c.a.createElement("div",{className:"buttnon-container"},c.a.createElement("button",{className:"buttnon-container__button buttnon-container__button_type_delete",onClick:function(){n(t._id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),l?c.a.createElement("button",{className:"buttnon-container__button buttnon-container__button_type_save",onClick:function(){a(t._id,m,_),i(!1)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):c.a.createElement("button",{className:"buttnon-container__button buttnon-container__button_type_edit",onClick:function(){i(!0)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))))};var i=function(e){var t=e.data,n=e.deleteData,a=e.updateData;return c.a.createElement("div",{div:!0,className:"data-list"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",{className:"table-headers"},c.a.createElement("th",null,"\u0438\u043c\u044f"),c.a.createElement("th",null,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442")),t.map((function(e){return c.a.createElement(l,{key:e._id,item:e,deleteData:n,updateData:a})})))))},s=n(4),d=n(5),m=new(function(){function e(t){Object(s.a)(this,e),this._url=t.url,this._headers=t.headers}return Object(d.a)(e,[{key:"_checkResult",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getData",value:function(){return fetch("".concat(this._url),{method:"GET",headers:{"Content-type":"application/json"}}).then(this._checkResult)}},{key:"updateData",value:function(e,t,n){return fetch("".concat(this._url,"/").concat(e),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({data:{name:t,age:n}})}).then(this._checkResult)}},{key:"loadNewData",value:function(e,t){return fetch("".concat(this._url),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{name:e,age:t}})}).then(this._checkResult)}},{key:"deleteData",value:function(e){return console.log(e),fetch("".concat(this._url,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(this._checkResult)}}]),e}())({url:"http://178.128.196.163:3000/api/records",headers:{"Content-type":"application/json"}});var h=function(){var e=c.a.useState([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=c.a.useState(""),o=Object(u.a)(r,2),l=o[0],s=o[1],d=c.a.useState(""),h=Object(u.a)(d,2),f=h[0],p=h[1];return c.a.useEffect((function(){m.getData().then((function(e){return a(e)}))}),[]),c.a.createElement("div",{className:"App"},c.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),m.loadNewData(l,f).then((function(){m.getData().then((function(e){return a(e)}))})).catch((function(e){return console.log(e)}))}},c.a.createElement("input",{className:"form__input",onChange:function(e){s(e.target.value)},placeholder:"\u0418\u043c\u044f",required:!0}),c.a.createElement("input",{className:"form__input",onChange:function(e){p(e.target.value)},placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",required:!0}),c.a.createElement("button",{className:"form__button",type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),c.a.createElement(i,{updateData:function(e,t,n){m.updateData(e,t,n).catch((function(e){return console.log(e)}))},deleteData:function(e){m.deleteData(e).then((function(){var t=n.filter((function(t){return t._id!==e}));a(t)}))},data:n}))};n(14);o.a.render(c.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="".concat("/smaginalexander/crud-ui.git","/service-worker.js");navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}))}],[[6,1,2]]]);
//# sourceMappingURL=main.c8907e6f.chunk.js.map